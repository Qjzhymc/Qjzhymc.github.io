---
title: 科大讯飞3面试题
author: Yu Mengchi
categories:
  - Interview
  - 面经
tags:
  - Interview
---
  
### aop
AOP（面向切面编程）是一种编程思想，目的是可以在程序运行时动态地将代码透明地插入到原有代码的流程中，以实现功能上的扩展和优化。
AOP 主要采用“横向切割”的方式对系统进程进行解耦操作，通过在原有代码的某些关键位置插入新的代码来达到增强系统功能、降低系统耦合度和提高代码重用率的目的。
AOP 在许多领域都得到广泛应用，例如日志记录、事务控制、性能监测和安全控制等。
### innodb和Myisam区别？
1. innodb提供事务支持，myisam不支持事务。
2. innodb支持行级锁和表级锁，而myisam只支持表级锁。
3. InnoDB 支持 ACID（原子性、一致性、隔离性、持久性）事务特性，MyISAM 不支持。
4. 并发性能：InnoDB 的并发性能相对 MyISAM 更好，读写并发能力更强。
5. 关注点：InnoDB 关注于提高事务处理能力和并发性能，MyISAM 关注于查询处理能力。
6. innodb需要更多存储空间，存储索引，而myisam的索引在表数据文件之外，不会占用太多存储空间。
7. 数据完整性：InnoDB 对数据完整性采用了严格的约束检查，可以防止损坏和丢失数据，而 MyISAM 没有这种保护机制。

### 3个线程怎么保证有序执行
1. CountDownLatch
2. Semaphore （这种方式最好理解）s.acquire(), s.release()
3. 阻塞队列，一般用一个长度的阻塞队列，执行queue.take(),queue.put()
### 怎么停止线程？
1.通过设置标志位停止线程
2. 调用Thread.stop()方法停止线程，这种方式会直接停止线程的执行，可能导致资源泄漏问题，不太安全。

### 线程池参数
1. 核心线程数
2. 最大线程数
3. keepAliveTime
4. 单位时间
5. 任务队列
6. 线程工厂类
7. 拒绝策略

### 拒绝策略有哪些？
1. AbortPolicy：直接抛出RejectedExecutionException异常
2. CallerRunsPolicy：拒绝后调用当前线程执行被抛弃的任务
3. DiscardPolicy：直接将任务丢弃
4. DiscardOldestPolicy：从队列头开始丢弃任务。

### redis数据结构
1. String字符串：由SDS简单动态字符串构成
2. List列表：由LinkedList、QuickList、ZipList构成
3. Hash字典：由HashTable、ZipList构成
4. Set集合：由IntSet、ZipList构成
5. ZSet有序集合：由SkipList、ZipList构成

- SDS简单动态字符串
- ZipList压缩列表：很通用，上面由四种数据结构都有这种实现。
- SkipList跳跃表
- HashTable哈希表
- LinkedList双向链表
- IntSet整数集合
- QuickList快速列表

### http和https区别，怎么加密？
https通过SSL或TLS协议对通信数据进行了加密。
1. 握手阶段：客户端发送连接请求，服务器发送公钥和证书信息，客户端收到证书信息和公钥后，验证证书是否合法，然后生成私钥，将私钥用公钥加密传给服务器。
2. 加密传输阶段：服务器用收到的私钥开始和客户端进行加密通信。
### hashMap结构
hashMap底层是通过Entry类型的数据+链表实现的，Entry类型有四个字段，包括key、value、hash、和next指针，每个Entry数组项都会连接一个链表，
当链表长度大于8之后，链表会转化为红黑树。

### truncate和drop有什么区别？truncate有什么隐患
1. truncate会删除表的数据，但是保留表的结构，drop会把表数据和表结构、表索引都删掉。
2. truncate不会对表占用的空间进行回收，drop会释放表占用的空间。
3. 而且truncate不会记录执行日志，所以没法回滚。
### smember大量数据怎么避免
smember会返回集合内的全部数据，可能导致内存溢出，或网络传输开销大，导致执行时间较长。
1. 分批获取数据
2. 压缩数据

### 悲观锁和乐观锁区别？
1. 悲观锁假设并发访问概率很高，会对资源进行锁定防止其他线程对它修改。
2. 乐观锁假设并发访问概率较低，采用版本号或时间戳的方式来控制并发修改，当一个事务需要更新某个记录的时候，会先记录该记录的版本号或时间戳，
在提交的时候该记录的版本号或时间戳与最开始是不是一样，如果不一样，说明有其他事务修改了记录，事务操作失败，需要重试。

悲观锁适用在改动频繁的情况，乐观锁适用于读多写少的场景。

### 分代收集流程
分代收集算法将堆内存分为新生代和老年代。
新生代回收时，会将活着代对象复制到另一个空间，原来的空间清理掉，这个过程叫Minor GC；
当对象在新生代回收过很多次还存在的时候，会被晋升到老年代，当老年代满了的时候会发生Full GC，针对老年代会使用标记-清除和标记-整理算法。

### 哪些垃圾收集算法
1. 标记-清除：从根出发，标记所有可以到达的对象，不可到达的对象会回收
2. 标记-整理：和标记-清除类似，但是会将存活的对象移到一端
3. 复制：把堆分成同样的大小的两块，每次只使用其中一块，当这一块用完了，就将活跃对象复制到另一块，同时清空原来的块。通常使用在新生代
4. 分代收集：将堆分成几个代空间，有新生代，老年代，不同代的垃圾回收使用不同的算法，比如新生代会使用复制算法，老年代会使用标记-清除或标记-整理算法。
### 覆盖索引有什么优点
覆盖索引就是指查找的时候，需要查找的字段可以在索引中直接返回，不用从磁盘中读取。这样mysql可以只通过索引就能返回需要的数据，性能比较快。
### 什么时候索引失效
1. select *
2. 索引列使用了函数计算或表达式计算
3. 组合索引没有遵守最左匹配原则
4. 条件查询中使用了以%开头的like查询
5. 表数据比较少的时候，不会使用索引
6. 使用or连接查询条件的时候，如果存在字段没有索引，就不会使用到索引
### acid怎么实现
事务、锁机制、日志
### 怎么判断对象可以被回收
通过引用计数法或可达性分析算法来判断这个对象是否能被回收：
1. 引用计数法：会对每个对象记录其被引用的次数，当引用次数为0的时候，可以认为可以被回收
2. 可达性分析：会从根对象开始扫描，在依次扫面完能够到达的所有对象后，所有未被扫描到的对象就被视为垃圾对象进行回收。
