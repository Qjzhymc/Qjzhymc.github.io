---
title: 完美世界面试题
author: Yu Mengchi
categories:
  - Interview
  - 面试知识点
tags:
  - Interview
---
  
### consumer怎么消费partition的？
Consumer是通过pull()方法拉去partition的消息的。指定topic和partition，broker返回一批数据。
consumer处理完消息后，调用commit提交消息offset值。消费者也可以指定offset值。

### scala和java对比？

scala也是一种机遇java虚拟机的编程语言，更灵活、简洁、多样化和可靠性强的特点。有以下优点：
- 函数式编程：scala提供了强大的函数式编程能力，可以更方便地处理并发和异步编程；
- 简洁性：scala可以用更少的代码完成同样的任务，可以提高代码的可读性和可维护性；
- 静态类型系统：scala的静态类型系统可以提高代码的可靠性和健壮性，能够在编译时捕获更多的错误。

为什么scala更灵活呢？
因为scala支持函数式编程和面向对象编程两种范式的混合使用。
1. 比如可以使用scala中的高阶函数对列表进行**函数式编程**，过滤filter、聚合reduce操作等。如：list.map(x=> x*x),list.filter(x => x % 2 == 0)
2. 可以使用scala中的**样例类**来定义数据类，使代码更简洁，比如：
```scala
case class Person(name: String, age: Int) 

val person = Person("Alice", 25)

//通过copy生成新的实例
val updatedPerson = person.copy(age = 26)
```
3. 可以使用scala中的**隐式转换**来扩展类的功能：

```scala
//为Int类型添加isEven方法
implicit class IntExtensions(val i: Int) {
  def isEven: Boolean = i % 2 == 0
}

val number = 4

//调用IntExtentions中的isEven方法
val isNumberEven = number.isEven
```

> 使用scala中的隐式类型转换可以方便地扩展类的功能，可以在编译期自动地将一个类型转换成另一个类型，而无需显式地调用转换函数，
> 比如要比较一个Int类型的变量和一个String类型的变量时，这两个类型不一致，没法比较。这时可以定义一个隐式转换函数，将Int类型隐式转换为String类型，使得它们可以被比较。

```scala
implicit class IntOps(val i: Int) {
  def addOne: Int = i + 1
  def isEqualTo(s: String): Boolean = i.toString == s  //为Int类型添加一个隐式类型转换函数，使得可以比较Int和String类型。
}

val number: Int = 42
val result = number.addOne
val isEqual = number.isEqualTo("42")
```

### play和springboot对比？play中有ioc、aop这种吗？


### redis淘汰策略


### 闭包


### 索引下推


### 一致性哈希算法


### 代码风格？嵌套怎么解决？

### 用哪些设计模式

### 联合索引是怎么查找的？


### redis 模型？

### redis SDS相比C快在哪？


### mysql有哪些锁？

### MVCC事务可见

### 乐观锁


### lru怎么实现的？


### var val 类型检测在哪里？


### 
