---
title: 科大讯飞面试题
author: Yu Mengchi
categories:
  - Interview
  - 面经
tags:
  - Interview
---
  
### reduceByKey与groupByKey有什么区别？


### 大表join小表怎么操作


### spark深层


### 有没有遇到spark任务调优问题？

### 作业优化问题？


### 数据倾斜？
1.现象：绝大多数task执行很快，某个task执行很慢
2.发生原理：在进行shuffle的时候，必须将相同的key拉到同一个节点上处理，比如按key聚合或join操作，此时如果某个数据量很大的话，就会发生数据倾斜。
3.定位导致倾斜的代码：可以再yarn-cluster上的spark web ui上查看task执行情况，耗时，数据量等。
一般只要看到Spark代码中出现了一个shuffle类算子（比如group by语句），那么就可以判定，以那个地方为界限划分出了前后两个stage。
4.查看key的分布情况：可以在Spark作业中加入查看key分布的代码，比如RDD.countByKey()。
5.采用随机前缀：将这个key对应的每条数据加随机前缀，将分散后的key分散到不同节点上，再join一起。


### 为什么有shuffle


### 四次挥手


### netstat 什么情况下会有timewait


### 线程池参数及策略？
1. 核心线程数，定义了最小可以同时运行的线程数量
当队列中存放的任务达到队列容量的时候，当前可以同时运行的线程数量变成最大线程数
当新任务来的时候会先判断当前运行的线程数量是否达到核心线程数，如果达到的话，新任务就会被存放在队列中。


### 强引用、软引用、弱引用、虚引用


### 强引用什么时候回收

### 如果有短暂的大量对象，应该怎么分配内存年轻代？


