---
title: 微服务&RPC面试题
author: Yu Mengchi
categories:
  - Interview 
  - 面试知识点
  - 系统设计
tags:
  - Interview
  - 微服务
  - MicroService
  - SpringCloud
---
  
# 微服务面试题

---

### 微服务和分布式服务有什么区别？Spring cloud和Dubbo分别解决什么问题？



### 微服务有什么框架？对SpringCloud有哪些了解？


---

### 一个巨石系统要改造成一个微服务应该怎么做？需要涉及哪些组件？

### Dubbo中的负载均衡策略有？

- RandomLoadBalance：默认采用，根据权重随机选择
- LeastActiveLoadBalance：优先让活跃数少的服务提供者处理
- ConsistentHashLoadBalance：一致性哈希负载均衡策略，计算参数的哈希决定
- RoundRobinBalance：加权轮询负载均衡。如果有两个服务A、B，一个权重是7，一个权重是3。则10次结果A有7次，B有3次；如果是Random的话，A可能有9次，B可能只有1次。


---

### Dubbo中支持的序列化方式？

Dubbo默认使用Hessian2

### 有了HTTP为什么还要用RPC
RPC通常应用的微服务、分布式架构中，使用HTTP的话每次请求都要建立和断开连接，使用RPC可以使用连接池计数减少连接建立和断开的开销。
而且RPC使用二进制压缩格式传输数据，比HTTP的文本格式效率要高。

1. 什么是RPC？它的核心原理是什么？
RPC是远程过程调用，是一种通信协议，可以在分布式系统中调用远程计算机上的函数。
核心原理就是客户端使用代理层来执行远程过程调用请求，代理层将请求方法和参数打包通过网络传输到远程服务端上，服务端接收请求并处理完之后，
通过代理层再返回数据给客户端。
2. Java RPC框架有哪些？请谈谈它们之间的区别和使用场景？
- Thrift支持跨语言；
- Thrift使用自定义的序列化协议，在网络中传输时可以有效减小数据包的大小，提高了传输效率。
- Thrift可以使用IDL接口定义语言，生成多种语言的客户端服务端代码
- Thrift支持异步非阻塞IO，并发性能高

3. 请介绍一下Dubbo框架？如何快速搭建Dubbo服务？

4. 如果你需要将一个Java应用转换为RPC服务，需要做哪些事情？
- 定义接口
- 选用框架
- 实现客户端和服务器端代码
- 配置和启动服务

5. 如何实现基于RESTful的RPC调用？

6. 如何处理在RPC调用中出现的网络故障或者服务异常？
- 超时重试或返回特定错误信息
- 在架构和代码上进行容错处理
- 针对不同的异常进行异常处理

7. 如何通过RPC调用远程服务并获取返回结果？

8. 分布式系统中的RPC调用与本地调用有哪些不同点？有哪些考虑因素需要注意？
- 网络传输，RPC调用是要通过网络传输的，本地调用是在同一机器上执行
- RPC需要特定的协议实现序列化反序列化进行传输

### 要实现自定义一个RPC应该怎么做
