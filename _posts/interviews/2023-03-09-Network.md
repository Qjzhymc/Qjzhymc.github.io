---
title: 计算机网络面试题
author: Yu Mengchi
date: '2023-03-09 19:02 +8'
categories:
  - interviews
tags:
  - interviews
  - Network
---

计算机网络

---

### 介绍OSI和TCP/IP网络分层模型，以及每一层主要有哪些协议，以及每一层的主要功能是什么？
OSI七层模型包括应用层、表示层、会话层、传输层、网络层、数据链路层和物理层。应用层的功能是为计算机用户提供服务；表示层提供数据处理功能（比如编解码、加密解密这些操作）；会话层负责管理应用程序之间的会话；传输层为两台主机进程之间的通信提供通用的数据传输服务；网络层主要是路由和寻址；数据链路层为帧编码以及提供误差纠正控制；物理层负责透明地传送比特流数据。      
TCP/IP模型主要有应用层、传输层、网络层和网络接口层。应用层主要提供两个终端设备上的应用程序之间信息交换的服务，在应用层交互的数据单元是报文，应用层协议有HTTP、FTP、SMTP、POP3协议；传输层主要负责为两台终端设备进程之间的通信提供通用的数据传输服务，传输层协议主要有TCP和UDP协议；网络层主要功能就是路由和寻址，负责为分组交换网上的不同主机提供通信服务，还有为传输层传下来的分组选择合适的路由，网络层协议主要有IP/IPv6协议、ARP、ICMP；网络接口层可以分为数据链路层和物理层，链路层的作用是将网络层交下来的IP数据报组装成帧，在两个相邻节点间的链路上传送帧，物理层的作用是实现相邻计算机节点间比特流的透明传输，尽可能屏蔽掉具体传输介质和物理设备的差异。

---

### 介绍每一层包含的协议？核心技术？
应用层协议有：

- HTTP协议（超文本传输协议）
- FTP协议（文件传输协议）
- Telnet协议（远程登陆协议）
- 电子邮件协议（SMTP、POP3、IMAP）
- DNS系统原理（域名系统）
- DHCP协议（动态主机配置）

传输层协议有：

- TCP协议（核心技术有报文段结构、可靠数据传输、流量控制、拥塞控制）
- UDP协议（核心技术有报文段结构、RDT（可靠数据传输协议））

网络层协议有：

- IP协议
- ARP协议（地址解析协议，用于解析IP地址和MAC地址之间的映射）
- ICMP协议（控制报文协议，用于发送控制消息）
- NAT协议（网络地址转换协议）
- RIP协议、OSPF协议、BGP协议（路由选择协议）

网络接口层主要技术有：

- 差错检测技术
- 多路访问协议（信道复用技术）
- CSMA/CD协议
- MAC协议
- 以太网协议

---

### 为什么要网络分层？

- 分层可以让每一层专注于做一类事情，各层之间相互独立，不需要关心其他层是怎么实现的。
- 分层可以提高系统的灵活性，每一层可以选择最合适的技术实现就可以，只需要提供的功能符合规则就行。
- 分层可以把复杂的网络问题分解为一个个小问题，使整个网络系统容易实现，容易标准化。

---

### 介绍TCP和UDP？有什么区别？

TCP是指传输控制协议，提供面向连接的，可靠的数据传输服务。UDP是用户数据协议，提供无连接的，尽最大努力的数据传输服务，也就是不保证数据传输的可靠性。之间的区别主要有：

- TCP提供面向连接的服务，在传送数据之前必须先建立连接，数据传送结束后要释放连接，UDP在传送数据之前不需要先建立连接。
- TCP提供可靠的传输服务，在数据传递的时候，有确认机制、有重传机制、有拥塞控制机制，数据可以保证不丢失、不重复而且是有顺序到达的。而UDP在传送数据时不会给出任务确认机制，也不保证数据不丢失、不保证是顺序到达的。
- TCP传输是有状态的，TCP会记录消息发送的状态，比如消息是否发送了、是否被接收，而UDP是无状态服务。
- 传输效率TCP因为有连接机制、确认机制、重传机制，所以会比UDP效率低。
- 传输形式上TCP是面向字节流的，UDP是面向报文的。
- TCP报文首部开销一般是20-60个字节，比UDP首部开销要大，UDP首部是8字节。
- TCP只支持点对点通信，而UDP支持一对多、多对一、多对多的广播或多播服务。

---

### 什么时候选择TCP，什么时候选择UDP？

- TCP一般用于对传输准确性要求比较高的场景，比如文件传输、发送和接收邮件、远程登陆这些。
- UDP一般用于对传输数据准确性要求不高的场景，比如即使通信，语音、视频、直播这些。

---

### HTTP是基于TCP还是UDP？

在HTTP3.0版本之前是基于TCP协议的，在3.0的版本中改为使用基于UDP的QUIC协议。主要解决的问题是之前版本中存在的HOL Blocking问题（队头阻塞问题），之前版本传输层使用TCP协议，少量的丢包可能导致整个TCP连接上所有流被阻塞。

---

### 使用TCP协议有哪些？使用UDP协议有哪些？

运行于TCP协议之上的协议有：
- HTTP协议、HTTPS协议
- FTP协议
- SMTP协议
- POP3/IMAP协议
- Telnet协议
- SSH协议  

运行于UDP协议之上的协议有：
- DNS：域名系统，将域名转换为IP地址；
- DHCP协议：动态主机配置协议，动态配置IP地址

---

### 从输入URL到页面展示的整个过程？

1. 首先在浏览器输入一个域名，浏览器会通过DNS服务获取域名对应的IP地址，查找IP地址时会依次从浏览器缓存、路由器缓存再到DNS缓存查找对应的IP地址；
2. 有了服务器的IP地址之后浏览器会向web服务器建立TCP连接，发送一个HTTP请求，请求里面会包含对应的Cookies；
3. 服务器处理请求后，发回响应，然后浏览器显示响应的HTML页面； 

> DNS解析 -> TCP连接 -> 发送HTTP请求 -> 服务器处理请求并返回HTTP报文 -> 浏览器解析渲染页面 -> 连接结束

在浏览器与服务器发送数据的过程中，会首先使用TCP协议与服务器建立TCP连接，建立TCP连接时会在网络层使用IP协议发送数据，IP数据包在路由器之间传送的时候，会使用OSPF协议进行路由选择，路由器在与服务器通信时需要将ip地址转换为MAC地址，这个时候需要ARP协议，在TCP建立完成后，使用HTTP协议访问网页。

---

### HTTP和HTTPS有什么区别？

- HTTP协议运行在TCP上，数据是明文传输，客户端和服务端都无法验证对方的身份。HTTPS是运行在SSL/TLS之上的HTTP协议，SSL/TLS运行在TCP之上，所有传输的内容都经过加密，加密使用的密钥使用服务器方的证书进行了非对称加密，所以HTTPS安全性更高；
- HTTP默认端口号是80，HTTPS默认端口号是443；

---

### HTTP1.0和HTTP1.1有什么区别？

- HTTP1.0是短连接，HTTP1.1是长连接；
- HTTP1.1新加入了大量的状态码；
- 缓存控制方面HTTP1.1加了更多的缓存控制策略，比如Entity tag、If-Unmodified-Since、If-Match、If-None-Match。

---

### HTTP如何保存用户状态？

HTTP是无状态协议，通过Session机制保存用户状态，Session的作用主要是通过服务端记录用户的状态，服务端给用户创建特定的Session之后就可以标识这个用户并且跟踪用户的行为。因为Session是保存在服务端的，如果要对Session跟踪的话，需要在Cookie中附加一个Session ID。

---


public key
private key
session key
