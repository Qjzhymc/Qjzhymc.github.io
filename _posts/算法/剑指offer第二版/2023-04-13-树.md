---
title: 树
author: Yu Mengchi
categories:
  - 算法
  - 剑指offer-第二版
  - 树 
tags:
  - Interview
  - 算法
  - 树
---
  
## 面试题7：重建二叉树

### 思路
记住递归函数的参数是，
先序左边界，先序右边界，中序左边界。
```java
public class Solution {
    public TreeNode reConstructBinaryTree(int [] pre,int [] vin) {
        Map<Integer, Integer> map = new HashMap<>();
        for (int i = 0; i < vin.length; i++) {
            map.put(vin[i], i);
        }
        return constructTree(pre, map, 0, pre.length - 1, 0);
    }

/**
先序左边界
先序右边界
中序左边界
 */

    private TreeNode constructTree(int[] pre, Map<Integer, Integer> map, int preLeft, int preRight, int inLeft) {
        if (preLeft > preRight) {
             return null;
        }
        TreeNode root = new TreeNode(pre[preLeft]);
        int inIndex = map.get(pre[preLeft]);
        int len = inIndex - inLeft;
        root.left = constructTree(pre, map, preLeft + 1, preLeft + len, inLeft);
        root.right = constructTree(pre, map, preLeft + len + 1, preRight, inIndex + 1);
        return root;
    }
}
```
---
## 面试题8：二叉树的下一个节点

### 思路

1.如果有右子树，则下一个节点就是右子树的最左节点
2.如果该节点是它父节点的左子节点，则下一个节点就是它的父节点
3.如果该节点是它父节点的右子节点，则先上找父节点，直到找到一个节点x，该x节点是它的父节点的左子节点，则下一个节点就是x的父节点。
如果找不到，就没有下一个节点

上面2和3点可以合并为一点：只要往上找父节点找到一个节点x，x是x父节点的左字节点，则返回x的父节点。

```java
public class Solution {
    public TreeLinkNode GetNext(TreeLinkNode pNode) {
        if (pNode == null) {
            return null;
        }
        if (pNode.right != null) {
            TreeLinkNode node = pNode.right;
            while (node.left != null) {
                node = node.left;
            }
            return node;
        } else {
            while (pNode.next != null) {
                TreeLinkNode parent = pNode.next;
                if (parent.left == pNode) {
                    return parent;
                }
                pNode = pNode.next;
            }
        }
        return null;
    }
}
```
